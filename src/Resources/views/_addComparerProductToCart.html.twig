{% import "@SyliusShop/Common/Macro/icons.html.twig" as icons %}
{#{% form_theme form '@SyliusUi/Form/theme.html.twig' %}#}

<div id="sylius-product-selecting-variant">
    {{ sonata_block_render_event('sylius.shop.product.show.before_add_to_cart', {'product': product, 'order_item': product}) }}
    {{ form_start(form, {'action': path('sylius_shop_ajax_cart_add_item', {'productId': product.id}), 'attr': {'id': 'sylius-product-adding-to-cart', 'class': 'ui loadable form', 'novalidate': 'novalidate', 'data-redirect': 'sylius_shop_cart_summary' }}) }}
    {{ form_errors(form) }}
    {{ sonata_block_render_event('sylius.shop.product.show.add_to_cart_form', {'product': product, 'order_item': product}) }}
    <button type="submit" class="btn btn-primary">
        <span class="btn-icon">{{ icons.cart() }}</span>
        {{ 'sylius.ui.add_to_cart'|trans }}
    </button>
    {{ form_row(form._token) }}
    {{ form_end(form, {'render_rest': false}) }}
</div>
